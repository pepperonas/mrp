appId: io.celox.metaprompt
productName: Metaprompt
copyright: "© 2025 Martin Pfeffer | celox.io"

directories:
  output: dist
  buildResources: resources

files:
  - "dist-electron/**/*"
  - "dist/**/*"
  - "package.json"
  - "resources/icon.icns"
  - "resources/icon.png"
  - "resources/icons/**/*"
  
# Erlaube LICENSE-Dateien für Universal Build
asar:
  smartUnpack: true

# Windows - NSIS Installer
win:
  target:
    - target: nsis
      arch: [x64]
  icon: resources/icon.ico
  publisherName: "Martin Pfeffer | celox.io"

nsis:
  oneClick: true
  allowToChangeInstallationDirectory: false
  createDesktopShortcut: always
  createStartMenuShortcut: true
  shortcutName: Metaprompt
  artifactName: "Metaprompt-${version}-Windows-Setup.exe"
  installerIcon: resources/icon.ico
  uninstallerIcon: resources/icon.ico
  installerHeaderIcon: resources/icon.ico
  runAfterFinish: false
  menuCategory: false

# macOS - DMG
mac:
  target:
    - target: dmg
      arch: [arm64]  # Apple Silicon (Intel Macs können mit Rosetta 2 ausführen)
  icon: resources/icon.icns
  category: public.app-category.productivity
  extendInfo:
    CFBundleName: Metaprompt
    CFBundleDisplayName: Metaprompt
    CFBundleExecutable: Metaprompt
  # Erlaube LICENSE-Dateien und Icons
  asarUnpack:
    - "**/LICENSE"
    - "**/LICENSE*"
    - "resources/icon.icns"
    - "resources/icon.png"
    - "resources/icons/**/*"
  # Code-Signierung deaktivieren für Development Build
  identity: null
  # Gatekeeper umgehen für nicht-signierte Apps
  gatekeeperAssess: false
  hardenedRuntime: false
  
dmg:
  title: "Metaprompt ${version}"
  artifactName: "Metaprompt-${version}-macOS.dmg"
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

# Linux - DEB und RPM Installer
linux:
  target:
    - target: deb
      arch: [x64]
    - target: rpm
      arch: [x64]
    - target: AppImage
      arch: [x64]
  icon: resources/icon.png
  category: Utility
  vendor: "Martin Pfeffer | celox.io"
  maintainer: "Martin Pfeffer <info@celox.io>"

deb:
  artifactName: "Metaprompt-${version}-Linux.deb"
  priority: optional

rpm:
  artifactName: "Metaprompt-${version}-Linux.rpm"

# Keine Auto-Updates für Portable
publish: null

