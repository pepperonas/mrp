appId: io.celox.mrp
productName: MRP
copyright: "© 2025 Martin Pfeffer | celox.io"

directories:
  output: dist
  buildResources: resources

files:
  - "dist-electron/**/*"
  - "dist/**/*"
  - "package.json"
  - "resources/icon.icns"
  - "resources/icon.png"
  - "resources/icons/**/*"
  
# Erlaube LICENSE-Dateien für Universal Build
asar:
  smartUnpack: true

# Windows - Portable
win:
  target:
    - target: portable
      arch: [x64]
  icon: resources/icon.ico

portable:
  artifactName: "MRP-${version}-Windows-Portable.exe"

# macOS - DMG
mac:
  target:
    - target: dmg
      arch: [x64, arm64]  # Universal Build für Intel und Apple Silicon
  icon: resources/icon.icns
  category: public.app-category.productivity
  extendInfo:
    CFBundleName: MRP
    CFBundleDisplayName: MRP
    CFBundleExecutable: MRP
  # Erlaube LICENSE-Dateien und Icons
  asarUnpack:
    - "**/LICENSE"
    - "**/LICENSE*"
    - "resources/icon.icns"
    - "resources/icon.png"
    - "resources/icons/**/*"
  # Code-Signierung deaktivieren für Development Build
  identity: null
  
dmg:
  title: "MRP ${version}"
  artifactName: "MRP-${version}-macOS.dmg"
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

# Linux - AppImage
linux:
  target:
    - target: AppImage
      arch: [x64]
  icon: resources/icon.png
  category: Utility

# Keine Auto-Updates für Portable
publish: null

